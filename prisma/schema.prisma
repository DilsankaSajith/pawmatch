generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

enum Urgency {
  Low
  Medium
  High
  Urgent
}

model Report {
  id            String    @id @default(cuid())
  animalType    String
  animalCount   Int
  environment   String
  urgency       Urgency   @default(Medium)
  description   String
  visibleIssues Issue[]
  location      Location?
  timeStamp     DateTime  @default(now())
  imageUrl      String?
}

model Issue {
  id       String @id @default(cuid())
  issue    String
  reportId String

  report Report? @relation(fields: [reportId], references: [id])

  @@map("issues")
}

model Location {
  id        String @id @default(cuid())
  latitude  Float
  longitude Float
  report    Report @relation(fields: [reportId], references: [id])
  reportId  String @unique
}
